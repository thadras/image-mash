<div class="body">
    <p *ngIf="webUrl !== '' && imgFail">
         Failed to load image {{webUrl}}since bad URL or CORS is not supported
    </p>
    <ul *ngIf="largeImage()">
    	When Download Failed with Netwrok Error, then the browser has refused to save the image since the Data URI is too long.
        <li *ngIf="imgUrl && imgUrl.length">The loaded image URI size is {{imgUrl.length/(1024*1024) | number}} MB</li>
        <li *ngIf="imageToShow && imageToShow.length">The edited image URI size is {{imageToShow.length /(1024*1024)| number}} MB</li>
    </ul>

    <div class="workspace-wrapper" (scroll)="onScroll($event)"> 
     
        <div  class="workspace controls">
            <div  *ngIf="image" class="floatWrapper">
                <input type="button" id="plus" value="âž•" 
                        title="Enlarge Image" (click)="scaleImage(1)">
                <input type="button" id="minus" value="âž–" 
                        title="Shrink Image" (click)="scaleImage(0)">
                <input *ngIf="imgDeminsions.x && imgDeminsions.y"
                        title="Save Image" type="button" (click)="saveImage('file')" value="ðŸ’½">
                <input *ngIf="imgDeminsions.x && imgDeminsions.y"
                        title="Clear Image" type="button" (click)="resetImage()" value="ðŸ’¨">                    
                <input *ngIf="imgSelection.deminsions.x && imgSelection.deminsions.y"
                        title="Crop Image" type="button" (click)="cropImage()" value="ðŸ“¸">
		        <button class="fileButton" title="Select File" (click)="file.click()">ðŸ“‚</button>
            </div>
        </div>
        
        <div class="workspace controls" (mousemove)="moving($event)" (mouseout)="endDrag($event)"
	     (mousedown)="beginDrag($event)" (mouseup)="endDrag($event)">
            <canvas [height]="imgDeminsions.y" [width]="imgDeminsions.x"
                    id="canvasImage">
            </canvas>
            <canvas id="canvasRectangle">
            </canvas>
            <canvas id="scaledCanvas">
            </canvas>
        </div>
        <div *ngIf="imageToShow" class="workspace contols">
            <div class="floatWrapper">
                <img [src]="imageToShow" class="editedImage"
                    alt="Altered image">
                    <br/>

                <button (click)="saveImage('edit')" title="Save Image">ðŸ’½</button>
            </div>
        </div>

    </div>
    <br/>
    <div class="button-bar">
        <div>

            <label for="userFile">
		        <button class="fileButton" title="Select File" (click)="file.click()">ðŸ“‚</button>
                &nbsp;Select an image file to resize (âž–/âž•) or crop (by making selection & ðŸ“¸) then save (ðŸ’½) or clear (ðŸ’¨) :)
                <input type="file" id="userFile" (change)="readImageFromUser($event)"
                    [ngModel]="imgFile" accept="image/*" #file>
            </label>
            <br/>

            <label for="webUrl">
                Or use URL of an Image hosted on a server supporting cross-orgin requests (e.g. imgur)
                <br/>
                <input type="text" placeholder="Enter a URL of an image" [(ngModel)]="webUrl" name="webUrl">
            </label>

            <button type="button" (click)="getImageFromService()">Get Image</button>
            </div>
    </div>
</div>
